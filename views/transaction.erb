<head>
  <title>Block Miner</title>
</head>

<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<link rel="stylesheet" href="../stylesheet.css" type="text/css" />

<div class="container">
  <div class="header">
    <div class="title">
      <h1>Block Miner</h1>
    </div>
    <div class="head_links">
      <div class="balance">
        <p>Balance:</p>
        <%= @blockchain.balance %> BKH
      </div>
      <div class="mine">
        <div class="mine_button_div">
          <form method="get" action="/" id="home_button">
            <input class='btn btn-secondary' type='submit' value='View Blockchain'>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<table id="blocks">
  <tr>
    <th>Block Hash</th>
    <th>Previous Block Hash</th>
    <th>Timestamp</th>
  <tr>
    <tr>
      <td><%= @block.hash %></td>
      <td><%= @block.previous_hash %></td>
      <td><%= @block.timestamp %></td>
    </tr>
</table>

<table id="transaction">
  <tr>
    <th>Transactions hash</th>
    <th>Purchaser Address</th>
    <th>Vendor Address</th>
    <th>Ticket Information</th>
    <th>Cost</th>
    <th>Time of Transaction</th>
  </tr>
  <% @block.transactions.each do |transaction| %>
  <tr>
    <td><%= transaction[:hash] %></td>
    <td><%= transaction[:sender] %></td>
    <td><%= transaction[:receiver] %></td>
    <td><%= transaction[:name] %></td>
    <td><%= transaction[:value] %></td>
    <td><%= transaction[:time] %></td>
  </tr>
  <% end %>
</table>
